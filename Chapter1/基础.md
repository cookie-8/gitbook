# 基础

1. new 构造函数返回原始值将被忽略，按默认返回当前 this 对象, 返回对象将使得 new 操作符无用

    ```
    function create(Con, ...args) {
        let obj = {}
         Object.setPrototypeOf(obj, Con.prototype)
         let result = Con.apply(obj, args)
         return result instanceof Object ? result : obj
         }
    ```

2. evnetloop microTask macroTask

3. 继承 **原型继承**，**构造函数继承**，**组合继承**

4. 实现 promise

5. [import、require、export、module.exports](https://juejin.im/post/5a2e5f0851882575d42f5609)

6. eventEmitter
    ```
      class Event {
    constructor() {
          this.events = Object.create(null);
      }
      on(name, fn) {
        if (!this.events[name]) {
            this.events[name] = []
          }
          this.events[name].push(fn);
          return this;
      }
      emit(name, ...args) {
        if (!this.events[name]) {
            return this;
        }
        const fns = this.events[name]
        fns.forEach(fn => fn.call(this, ...args))
        return this;
      }
      off(name,fn) {
        if (!this.events[name]) {
            return this;
        }
          if (!fn) {
            this.events[name] = null
            return this
          }
          const index = this.events[name].indexOf(fn);
          this.events[name].splice(index, 1);
        return this;
      }
      once(name,fn) {
        const only = () => {
          fn.apply(this, arguments);
          this.off(name, only);
        };
        this.on(name, only);
        return this;
      }
    }
    ```


7. JSON.stringify 的5个特性
    `JSON.stringify(obj: object, str: string[] | Function , holder: number | string)`

   7.1 第二个参数为数组时，可以过滤对象的key，找出需要的数据
   7.2 第二个参数为函数时，如果返回 undefined，则不会打印键值对

    ![](https://user-gold-cdn.xitu.io/2020/4/1/171345225970e99c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

    7.3 第三个参数控制最后一个字符串的间距。如果参数是一个数字，则字符串化中的每个级别都将缩进这个数量的空格字符。

    7.4 如果第三个参数是 string，那么将使用它来代替7.3中显示的空格字符

    7.5 `JSON.stringify`返回这个函数的结果并对其进行序列化，而不是将整个对象转换为字符串
    ```js
    const user = {
      firstName : "Prateek",
      lastName : "Singh",
      age : 26,
      toJSON() {
        return { 
          fullName: `${this.firstName} + ${this.lastName}`
        };
      }
    }

    console.log(JSON.stringify(user));

    // 结果
    // "{ "fullName" : "Prateek Singh"}"

    ```